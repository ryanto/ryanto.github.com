<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>EmberJS Testing</title>
  <link rel="stylesheet" 
    href="http://cdnjs.cloudflare.com/ajax/libs/qunit/1.11.0/qunit.min.css">
</head>
<body>
  <div id="qunit"></div>
  <div id="qunit-fixture"></div>

  <script type="text/javascript"
    src="http://cdnjs.cloudflare.com/ajax/libs/qunit/1.11.0/qunit.min.js"></script>
  <script type="text/javascript"
    src="http://cdnjs.cloudflare.com/ajax/libs/jquery/1.10.2/jquery.js"></script>
  <script type="text/javascript"
    src="http://cdnjs.cloudflare.com/ajax/libs/handlebars.js/1.0.0/handlebars.min.js"></script>

  <script type="text/javascript"
    src="http://builds.emberjs.com/ember-1.0.0-rc.7.js"></script>

  <script type="text/x-handlebars" data-template-name="index">
    <h1 class="welcome">Welcome</h1>
    <p class="message">Welcome to my website</p>
  </script>

  <script type="text/javascript">
    App = Ember.Application.create({
      rootElement: '#qunit-fixture'
    });

    App.setupForTesting();

    module("Testing the homepage", {
      setup: function() {
        App.reset();
        App.injectTestHelpers();
      }
    });

    test("should display a welcome message", function() {
      visit("/")
        .find("h1.welcome")
        .then(function(title) {
          equal(title.length, 1, 'found title');
        });
    });
  </script>
</body>
</html>
